@model IEnumerable<PatelMilkProducts.Models.Khali>

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["NameSortParm"] = "Name";
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
    <script src="~/Scripts/jquery-3.3.1.min.js"></script>
    @Styles.Render("~/Content/css")
    <script src="@Url.Content("~/Scripts/jquery-3.3.1.min.js")" type="text/javascript"></script>
    <script>
        function ShowVal(name)
        {


             $.ajax({
                    type: 'POST',
                    url: '@Url.Action("GetEntries")',
                    dataType: 'json',
                    data: { MName:name },
                    success: function (vil) {

                        $("#KhaliEntries").empty();
                        // states contains the JSON formatted list
                        // of states passed from the controller
                        $.each(vil, function (i, member) {
                            dateinjson = parseInt(member['GivenDate'].substr(6));
                            var dateFormat = new Date(dateinjson);
                            
                            $("#KhaliEntries").append("<tr><td>" + member['Employees']['Name'] + "</td><td>" + member['Employees']['FatherName'] + "</td><td>" + member['Employees']['Village'] + "</td><td>" + member['Qty'] + "</td><td>" + dateFormat.toDateString("dd mm yyyy") + "</td><td>" + member['Rate'] + "</td><td>" + member['Signature'] + "</td><td><button class='btn'><a href='/Khalis/Edit/" + member['Id'] + "'>Edit</a></button></td><td><button class='btn'><a href='/Khalis/Details/" + member['Id'] + "'>Details</a></button></td><td><button class='btn'><a href='/Khalis/Delete/" + member['Id'] + "'> Delete</a></button></td></tr>");

                        });
                    },
                    error: function (ex) {
                        alert('Failed to retrieve states.' + ex);
                    }
                });

        }




    </script>


</head>


<body>

    <hr />
    <button class="btn">
        @Html.ActionLink("Create New", "Create")
    </button>

    <table class="table">
        <thead>
            
            <th>
                
                @Html.DisplayNameFor(model => model.Employees.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Employees.FatherName)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Employees.Village)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Qty)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.GivenDate)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Rate)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Signature)
            </th>
            <th> Actions</th>
        </thead>
       <tbody id="KhaliEntries" name="KhaliEntries">
           <tr><td>Please select Month from below</td></tr>
       </tbody>

    </table>
    <div class="container-fluid" style="align-items:center;width:100%">
        
        <div class="text-center">
            <nav aria-label="Page navigation">
                <ul class="pagination">
                    
                    <li><a href="#" onclick="ShowVal(1)">January</a></li>
                    <li><a href="#" onclick="ShowVal(2)" >February</a></li>
                    <li><a href="#" onclick="ShowVal(3)">March</a></li>
                    <li><a href="#" onclick="ShowVal(4)">April</a></li>
                    <li><a href="#" onclick="ShowVal(5)">May</a></li>
                    <li><a href="#" onclick="ShowVal(6)">June</a></li>
                    <li><a href="#" onclick="ShowVal(7)">July</a></li>
                    <li><a href="#" onclick="ShowVal(8)">August</a></li>
                    <li><a href="#" onclick="ShowVal(9)">September</a></li>
                    <li><a href="#" onclick="ShowVal(10)">October</a></li>
                    <li><a href="#" onclick="ShowVal(11)">November</a></li>
                    <li><a href="#" onclick="ShowVal(12)">December</a></li>
                    
                </ul>
            </nav>
        </div>
    </div>
</body>
</html>
